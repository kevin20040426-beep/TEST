export interface CandleData {
  time: number; // Unix timestamp
  open: number;
  high: number;
  low: number;
  close: number;
  volume: number;
  dateStr: string;
}

export interface StockQuote {
  c: number; // Current price
  d: number; // Change
  dp: number; // Percent change
  h: number; // High
  l: number; // Low
  o: number; // Open
  pc: number; // Previous close
}

export interface TradeRecord {
  id: string;
  symbol: string;
  type: 'BUY' | 'SELL';
  price: number;
  quantity: number;
  total: number;
  timestamp: number;
  dateStr: string;
}

export interface Asset {
  id: string;
  name: string;
  value: number;
  type: 'CASH' | 'STOCK' | 'CRYPTO' | 'REAL_ESTATE' | 'OTHER';
  allocation: number; // percentage
}

export interface MarketAnalysis {
  symbol: string;
  summary: string;
  recommendation: string;
  loading: boolean;
}

export enum TimeRange {
  DAY = '1D',
  MONTH = '1M',
  YEAR = '1Y'
}

// Global Definitions
declare global {
  interface Window {
    // For specific browser capabilities if needed
  }

  // Augment NodeJS namespace directly to avoid conflict with var declarations
  namespace NodeJS {
    interface ProcessEnv {
      API_KEY: string;
      [key: string]: any;
    }
  }

  interface ImportMetaEnv {
    readonly VITE_FINNHUB_API_KEY: string;
    readonly VITE_GOOGLE_API_KEY: string;
    readonly VITE_FIREBASE_CONFIG_STRING: string;
    [key: string]: any;
  }

  interface ImportMeta {
    readonly env: ImportMetaEnv;
  }
}
